
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Sensor &#8212; BuildingDepot 3.2.8 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SensorGroups" href="sensorgroup.html" />
    <link rel="prev" title="DataService" href="dataservice.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="sensor">
<h1>Sensor<a class="headerlink" href="#sensor" title="Permalink to this headline">¶</a></h1>
<p>The Sensor collection manages Sensors for Locations associated with the CentralService.Sensors can be defined in the CentralService at <a class="reference external" href="http://www.example.com:81/api/sensor">http://www.example.com:81/api/sensor</a>.
Sensor access is restricted to Central Service <cite>Users</cite> with permissions for the Sensor and to the <cite>Admin</cite> who owns the Sensor.</p>
<div class="section" id="create-a-sensor">
<h2>Create a Sensor<a class="headerlink" href="#create-a-sensor" title="Permalink to this headline">¶</a></h2>
<p>Creates a new Sensor point in BuildingDepot and returns the UUID.</p>
<dl class="post">
<dt id="post--api-sensor">
<code class="descname">POST </code><code class="descname">/api/sensor</code><a class="headerlink" href="#post--api-sensor" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">JSON Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) – Name of the sensor</li>
<li><strong>identifier</strong> (<em>string</em>) – An identifier that will be associated with the sensor</li>
<li><strong>building</strong> (<em>string</em>) – Building in which the sensor is located</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li><strong>success</strong> <cite>(string)</cite> – Returns ‘True’ if data is posted successfully otherwise ‘False’</li>
<li><strong>uuid</strong> <cite>(string)</cite> – Returns the uuid of the sensor on successful creation</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status Codes:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – Success</li>
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a> – Unauthorized Credentials</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/sensor</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>

{
      &quot;data&quot;: {
                &quot;name&quot;:&quot;Test_Sensor&quot;,
                &quot;identifier&quot;:&quot;Sensor_Tag&quot;,
                &quot;building&quot;:&quot;NSH&quot;
              }
}
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong>:</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span>
  <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;6cf53d24-e3a3-41bd-b2b5-8f109694f628&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-a-sensor-view">
<h2>Create a Sensor View<a class="headerlink" href="#create-a-sensor-view" title="Permalink to this headline">¶</a></h2>
<p>Creates a new Sensor View for a sensor point in BuildingDepot. Each sensor may have multiple fields of data, however,
the user may only want to receive or request a subset of data. This API creates a view for the sensor and returns the
UUID for the sensor.</p>
<dl class="post">
<dt id="post--api-sensor--name--view">
<code class="descname">POST </code><code class="descname">/api/sensor/&lt;name&gt;/view</code><a class="headerlink" href="#post--api-sensor--name--view" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) – UUID associated with Sensor (required)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">JSON Parameters:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li><dl class="first docutils">
<dt><strong>data</strong> <cite>(dictionary)</cite> – Contains the information of the sensor view.</dt>
<dd><ul class="first last">
<li><strong>fields</strong> <cite>(string)</cite> – The data fields of the sensor that is being posted to BD.</li>
<li><strong>source_name</strong> <cite>(string)</cite> – Name of the sensor view</li>
</ul>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li><strong>success</strong> <cite>(dictionary)</cite> – Returns ‘True’ if data is posted successfully otherwise ‘False’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Status Codes:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – Success</li>
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a> – Unauthorized Credentials</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/sensor/8aac1048-aa9f-41c9-9c20-6dd81339c7de/views</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>

{
      &quot;data&quot;:{
              &quot;fields&quot;: &quot;EMI-1, Temp-2&quot;,
              &quot;source_name&quot;: &quot;Important Values&quot;
              }
}
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for success):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span>
  <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;6cf53d24-e3a3-41bd-b2b5-8f109694f628&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Communication failure with DataService&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-sensor-details">
<h2>Get Sensor details<a class="headerlink" href="#get-sensor-details" title="Permalink to this headline">¶</a></h2>
<p>Retrieves all the details of the sensor based on the uuid specified</p>
<dl class="get">
<dt id="get--api-sensor--name-">
<code class="descname">GET </code><code class="descname">/api/sensor/&lt;name&gt;</code><a class="headerlink" href="#get--api-sensor--name-" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) – uuid of the sensor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li><strong>success</strong> <cite>(string)</cite> – Returns ‘True’ if data is retrieved successfully otherwise ‘False’</li>
<li><strong>building</strong> <cite>(string)</cite> – Building in which the sensor is located</li>
<li><strong>name</strong> <cite>(string)</cite> – UUID name of the sensor</li>
<li><strong>tags</strong> <cite>(list)</cite> – List of tags owned by the sensor</li>
<li><strong>metadata</strong> <cite>(list)</cite> – List of metadata owned by the sensor</li>
<li><strong>source_identifier</strong> <cite>(dictionary)</cite> – Source identifier of the sensor</li>
<li><strong>source_name</strong> <cite>(dictionary)</cite> – Source name of the sensor</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status Codes:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – Success</li>
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a> – Unauthorized Credentials</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/sensor/8aac1048-aa9f-41c9-9c20-6dd81339c7de/views</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong>:</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span><span class="p">,</span>
    <span class="nt">&quot;views_owned&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="s2">&quot;EMI-0&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;280bc754-a963-4740-89f4-bdae9ede76f6&quot;</span><span class="p">,</span>
        <span class="nt">&quot;source_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Averages&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="s2">&quot;EMI-2, EMI-3&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;6336a9d7-6f65-4572-9e52-78fa3808c92f&quot;</span><span class="p">,</span>
        <span class="nt">&quot;source_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Min, Max EMI&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-sensor-view-details">
<h2>Get Sensor View details<a class="headerlink" href="#get-sensor-view-details" title="Permalink to this headline">¶</a></h2>
<p>Retrieves all the views of the sensor based on the sensor uuid specified</p>
<dl class="get">
<dt id="get--api-sensor--name--views">
<code class="descname">GET </code><code class="descname">/api/sensor/&lt;name&gt;/views</code><a class="headerlink" href="#get--api-sensor--name--views" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) – uuid of the sensor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li><strong>success</strong> <cite>(string)</cite> – Returns ‘True’ if data is retrieved successfully otherwise ‘False’</li>
<li><strong>available_fields</strong> <cite>(list)</cite> – List of available fields that the sensor can have.</li>
<li><strong>views_owned</strong> <cite>(list)</cite> – List of views for the sensor.
* <strong>fields</strong> <cite>(string)</cite> – A subset of fields in the sensor
* <strong>id</strong> <cite>(string)</cite> – UUID name of the views of the sensor
* <strong>source_name</strong> <cite>(string)</cite> – Source name of the views of the sensor</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status Codes:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – Success</li>
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a> – Unauthorized Credentials</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/sensor/6cf53d24-e3a3-41bd-b2b5-8f109694f628</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for success):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>   <span class="nt">&quot;building&quot;</span><span class="p">:</span> <span class="s2">&quot;NSH&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;86ac8207-6372-46a5-ba0b-6b392dbff645&quot;</span><span class="p">,</span>
    <span class="nt">&quot;source_identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;Sensor_Tag&quot;</span><span class="p">,</span>
    <span class="nt">&quot;source_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Test_Sensor&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot; Sensor does not exist&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Missing parameters&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="search-sensors">
<h2>Search Sensors<a class="headerlink" href="#search-sensors" title="Permalink to this headline">¶</a></h2>
<p>The Search API is used search sensors based on uuid,source_name,source_identifier, building, Tag and MetaData. Multiple search queries can be sent in a single request.</p>
<dl class="post">
<dt id="post--api-sensor-search">
<code class="descname">POST </code><code class="descname">/api/sensor/search</code><a class="headerlink" href="#post--api-sensor-search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">JSON Parameters:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><dl class="first docutils">
<dt><strong>data</strong> <cite>(dictionary)</cite> – Contains the list of Search Query key-value pairs</dt>
<dd><ul class="first last">
<li><strong>ID</strong> <cite>(list)</cite> – UUID of the Sensor</li>
<li><strong>Building</strong> <cite>(list)</cite> – Building in which the sensor is located</li>
<li><strong>Tags</strong> <cite>(list)</cite> – List of tags owned by the sensor. The are given as key,value pairs.</li>
<li><strong>Metadata</strong> <cite>(list)</cite> – List of metadata owned by the sensor.The are given as key,value pairs.</li>
<li><strong>Source_Identifier</strong> <cite>(list)</cite> – Source identifier of the sensor</li>
<li><strong>Source_Name</strong> <cite>(list)</cite> – Source name of the sensor</li>
</ul>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/sensor/search</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>

{
  &quot;data&quot;:{
      &quot;ID&quot;:[&quot;6cf53d24-e3a3-41bd-b2b5-8f109694f628&quot;],
      &quot;Building&quot;:[&quot;NSH&quot;],
      &quot;Tags&quot;:[&quot;floor:1&quot;, &quot;corridor:4200&quot;]
  }
}
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for success):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
    <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span><span class="p">,</span>
    <span class="nt">&quot;building&quot;</span><span class="p">:</span> <span class="s2">&quot;NSH&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;6cf53d24-e3a3-41bd-b2b5-8f109694f628&quot;</span><span class="p">,</span>
    <span class="nt">&quot;source_identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;Sensor Tag&quot;</span><span class="p">,</span>
    <span class="nt">&quot;source_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Test Sensor&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:[{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;floor&quot;</span><span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;corridor&quot;</span><span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;4200&quot;</span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot; Sensor does not exist&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-sensor">
<h2>Delete a Sensor<a class="headerlink" href="#delete-a-sensor" title="Permalink to this headline">¶</a></h2>
<p>Delete the Sensor associated with <cite>sensor_uuid</cite>.</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p>Restricted to Admins only</p>
<p class="last">Currently can only be done through the GUI</p>
</div>
</div>
<div class="section" id="delete-a-sensor-view">
<h2>Delete a Sensor View<a class="headerlink" href="#delete-a-sensor-view" title="Permalink to this headline">¶</a></h2>
<p>This request deletes a sensor view of a sensor.</p>
<dl class="delete">
<dt id="delete--api-sensor--uuid--views--view_uuid-">
<code class="descname">DELETE </code><code class="descname">/api/sensor/&lt;uuid&gt;/views/&lt;view_uuid&gt;</code><a class="headerlink" href="#delete--api-sensor--uuid--views--view_uuid-" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uuid</strong> (<em>string</em>) – UUID of the sensor.</li>
<li><strong>view_uuid</strong> (<em>string</em>) – UUID of the view sensor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li><strong>success</strong> <cite>(string)</cite> – Returns ‘True’ if the UserGroup is successfully deleted otherwise ‘False’</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status Codes:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – Success</li>
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a> – Unauthorized Credentials</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/api/sensor/8aac1048-aa9f-41c9-9c20-6dd81339c7de/views/22d807bf-af67-493a-80b7-2690d26c9244</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for success):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Permission does not exist&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Communication failure with DataService&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="add-tags-to-a-sensor">
<h2>Add Tags to a Sensor<a class="headerlink" href="#add-tags-to-a-sensor" title="Permalink to this headline">¶</a></h2>
<p>This request adds tags (key-value pairs) to a particular sensor. To get the available tags that can be added to the sensor, please use the get tags of a sensor API to fetch the list of available tags.</p>
<dl class="post">
<dt id="post--api-sensor--name--tags">
<code class="descname">POST </code><code class="descname">/api/sensor/&lt;name&gt;/tags</code><a class="headerlink" href="#post--api-sensor--name--tags" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) – UUID associated with Sensor (required)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">JSON Parameters:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li><dl class="first docutils">
<dt><strong>data</strong> <cite>(dictionary)</cite> – Contains the information of the tag to be added to the sensor.</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><strong>tags</strong> <cite>(list)</cite> – List of tags</dt>
<dd><ul class="first last">
<li><strong>name</strong> <cite>(string)</cite> – Name of the Tag Type</li>
<li><strong>value</strong> <cite>(string)</cite> – Value for the Tag Type</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li><strong>success</strong> <cite>(array)</cite> – Returns ‘True’ if data is posted successfully otherwise ‘False’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Status Codes:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – Success</li>
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a> – Unauthorized Credentials</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/sensor/be2a09a5-4ef6-4c67-886e-272c37e7e38f/tags</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>

{
      &quot;data&quot;:{
              &quot;tags&quot;: [
                      {
                          &quot;name&quot;: &quot;Room&quot;,
                          &quot;value&quot;: &quot;4120&quot;
                      },
                      {
                          &quot;name&quot;: &quot;floor&quot;,
                          &quot;value&quot;: &quot;1&quot;
                      }
                  ]
              }
}
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for success):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot; Sensor does not exist&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-tags-of-a-sensor">
<h2>Get Tags of a Sensor<a class="headerlink" href="#get-tags-of-a-sensor" title="Permalink to this headline">¶</a></h2>
<p>This request retrieves two lists of key-value pairs, one list contains the array of eligible tags that can be attached to this sensor and the other list contains the array of tags that are currently attached to this sensor.</p>
<dl class="get">
<dt id="get--api-sensor--name--tags">
<code class="descname">GET </code><code class="descname">/api/sensor/&lt;name&gt;/tags</code><a class="headerlink" href="#get--api-sensor--name--tags" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) – UUID associated with Sensor (required)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li><dl class="first docutils">
<dt><strong>tags</strong> <cite>(list)</cite> – Contains the list of tag key-value pairs that are available for the building in which this sensor is located</dt>
<dd><ul class="first last">
<li><strong>name</strong> <cite>(string)</cite> – Name of the tag point</li>
<li><strong>value</strong> <cite>(list)</cite> – List of eligible values for this certain tag</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>tags_owned</strong> <cite>(list)</cite> – Contains the list of tag key-value pairs that are attached to this sensor</dt>
<dd><ul class="first last">
<li><strong>name</strong> <cite>(string)</cite> – Name of the tag point</li>
<li><strong>value</strong> <cite>(string)</cite> – Value for this tag</li>
</ul>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status Codes:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – Success</li>
<li><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a> – Unauthorized Credentials</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="compound">
<p class="compound-first"><strong>Example request</strong>:</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/sensor/26da099a-3fe0-4966-b068-14f51bcedb6e/tags</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for success):</p>
<div class="compound-middle highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="nt">&quot;Corridor&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;3600&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;3700&quot;</span>
                       <span class="p">],</span>
           <span class="nt">&quot;Floor&quot;</span><span class="p">:</span> <span class="p">[</span>
                     <span class="s2">&quot;3&quot;</span>
                    <span class="p">],</span>
           <span class="nt">&quot;Room&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;3606&quot;</span>
                   <span class="p">]</span>
          <span class="p">},</span>
  <span class="nt">&quot;tags_owned&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="p">{</span>
                   <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Corridor&quot;</span><span class="p">,</span>
                   <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;3600&quot;</span>
                  <span class="p">},</span>
                  <span class="p">{</span>
                   <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Floor&quot;</span><span class="p">,</span>
                   <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span>
                  <span class="p">},</span>
                  <span class="p">{</span>
                   <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Room&quot;</span><span class="p">,</span>
                   <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;3606&quot;</span>
                  <span class="p">}</span>
                  <span class="p">]</span>
  <span class="p">}</span>
</pre></div>
</div>
<p class="compound-middle"><strong>Example response</strong> (for failure):</p>
<div class="compound-last highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
  <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot; Sensor does not exist&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sensorgroups-and-usergroups">
<h2>SensorGroups and UserGroups<a class="headerlink" href="#sensorgroups-and-usergroups" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>BuildingDepot restricts access to sensors to users on three levels. A user can have either of these types of access to a sensor:</dt>
<dd><ul class="first last simple">
<li><strong>Read</strong></li>
<li><strong>Read/Write</strong></li>
<li><strong>Deny Read</strong></li>
<li><strong>Read/Write/Permission</strong></li>
</ul>
</dd>
</dl>
<p>As the names suggest a user with read access to a sensor will be able to read all the datapoints of the sensors. A user with Read/Write access will be able to both read and write (if supported by the sensor) to the sensors. With Deny Read a user will not be able to read any datapoints of the sensor.</p>
<p>The basis of deciding these permissions is dependent on the abstraction of SensorGroups and UserGroups within BuildingDepot.</p>
<p>SensorGroups are created on the basis of tags that are specified at the time of creation. All sensors with the specified tags will be a part of the SensorGroup that is created. Usergroups are basically a list of users which are connected to a SensorGroup via a “Permissions” link. This link is what defines the level of access that the users in the UserGroup have to the sensors in the SensorGroup.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sensor</a><ul>
<li><a class="reference internal" href="#create-a-sensor">Create a Sensor</a></li>
<li><a class="reference internal" href="#create-a-sensor-view">Create a Sensor View</a></li>
<li><a class="reference internal" href="#get-sensor-details">Get Sensor details</a></li>
<li><a class="reference internal" href="#get-sensor-view-details">Get Sensor View details</a></li>
<li><a class="reference internal" href="#search-sensors">Search Sensors</a></li>
<li><a class="reference internal" href="#delete-a-sensor">Delete a Sensor</a></li>
<li><a class="reference internal" href="#delete-a-sensor-view">Delete a Sensor View</a></li>
<li><a class="reference internal" href="#add-tags-to-a-sensor">Add Tags to a Sensor</a></li>
<li><a class="reference internal" href="#get-tags-of-a-sensor">Get Tags of a Sensor</a></li>
<li><a class="reference internal" href="#sensorgroups-and-usergroups">SensorGroups and UserGroups</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="index.html">CentralService APIs</a><ul>
      <li>Previous: <a href="dataservice.html" title="previous chapter">DataService</a></li>
      <li>Next: <a href="sensorgroup.html" title="next chapter">SensorGroups</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/CentralService/sensor.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, SynergyLabs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/api/CentralService/sensor.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>